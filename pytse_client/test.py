import os
import sys
import inspect

currentdir = os.path.dirname(os.path.abspath(inspect.getfile(inspect.currentframe())))
parentdir = os.path.dirname(currentdir)
sys.path.insert(0, parentdir)

import download

download.download("پترول", adj_by_split=True, adj_by_dividend=True, write_to_csv=True, base_path="temp_data", include_jdate=True)


"""
همراه
"""

"""
split_df
                jdate  shares_after_split  shares_before_split  split_coef       date
date                                                                                 
2021-07-27   1400/5/5        4.720000e+10         1.920000e+10    2.458333 2021-07-27
2019-06-09  1398/3/19        1.920000e+10         9.600000e+09    2.000000 2019-06-09
2017-07-05  1396/4/14        9.600000e+09         4.000000e+09    2.400000 2017-07-05
2014-04-26   1393/2/6        4.000000e+09         2.064985e+09    1.937060 2014-04-26
divid_df
                jdate  price_after_adj  price_before_adj  adj_diff       date
date                                                                         
2021-05-22   1400/3/1          20030.0           22110.0    2080.0 2021-05-22
2019-06-09  1398/3/19          10001.0           19752.0    9751.0 2019-06-09
2019-05-06  1398/2/16          17925.0           21050.0    3125.0 2019-05-06
2018-04-30  1397/2/10          14193.0           17373.0    3180.0 2018-04-30
2017-07-05  1396/4/14          14239.0           32775.0   18536.0 2017-07-05
2017-04-30  1396/2/10          28979.0           35979.0    7000.0 2017-04-30
2016-04-20   1395/2/1          30125.0           36150.0    6025.0 2016-04-20
2015-04-21   1394/2/1          26084.0           31494.0    5410.0 2015-04-21
2014-04-26   1393/2/6          26845.0           52002.0   25157.0 2014-04-26
2014-04-22   1393/2/2          52002.0           62852.0   10850.0 2014-04-22
"""

"""
ذوب
"""

"""
split_df
                 jdate  shares_after_split  shares_before_split  split_coef       date
date                                                                                  
2018-11-27    1397/9/6        6.150354e+10         3.318059e+10    1.853600 2018-11-27
2017-02-06  1395/11/18        3.318059e+10         7.868406e+09    4.216939 2017-02-06
2011-10-11   1390/7/19        7.868406e+09         7.868406e+09    1.000000 2011-10-11
divid_df
                 jdate  price_after_adj  price_before_adj  adj_diff       date
date                                                                          
2021-07-17   1400/4/26           3666.0            3722.0      56.0 2021-07-17
2018-11-27    1397/9/6           1451.0            2689.0    1238.0 2018-11-27
2017-02-06  1395/11/18            651.0            2746.0    2095.0 2017-02-06

"""

"""
پترول
"""

"""
split_df
                jdate  shares_after_split  shares_before_split  split_coef       date
date                                                                                 
2021-08-23   1400/6/1        7.000000e+10         2.500000e+10        2.80 2021-08-23
2020-09-05  1399/6/15        2.500000e+10         2.000000e+10        1.25 2020-09-05
2020-09-01  1399/6/11        2.000000e+10         2.500000e+10        0.80 2020-09-01
2020-06-24   1399/4/4        2.500000e+10         2.000000e+10        1.25 2020-06-24
divid_df
                jdate  price_after_adj  price_before_adj  adj_diff       date
date                                                                         
2021-08-14  1400/5/23          10280.0           10680.0     400.0 2021-08-14
2020-09-01  1399/6/11           7370.0            7720.0     350.0 2020-09-01
2019-08-13  1398/5/22           2380.0            2530.0     150.0 2019-08-13
2018-09-08  1397/6/17           1427.0            1439.0      12.0 2018-09-08
2017-09-12  1396/6/21           1342.0            1392.0      50.0 2017-09-12
2016-09-11  1395/6/21           1249.0            1274.0      25.0 2016-09-11
"""